<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fruit Order Prototype</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700&family=Nanum+Pen+Script&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: only light;
        --bg: #fdeee6;
        --panel: #fff6ef;
        --panel-2: #ffe9d7;
        --line: #6b4b3e;
        --accent: #f6b26b;
        --accent-2: #f2a1b8;
        --accent-3: #9cd3b3;
        --shadow: rgba(107, 75, 62, 0.2);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: var(--bg);
        font-family: "Baloo 2", "Nanum Pen Script", "Trebuchet MS", sans-serif;
        color: var(--line);
      }

      button {
        font-family: inherit;
      }

      .app {
        min-height: 100vh;
        padding: 24px 28px 32px;
        max-width: 1100px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 18px;
      }

      .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 16px;
      }

      .top-left {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .pill-button {
        border: 4px solid var(--line);
        background: #fff3e8;
        border-radius: 999px;
        padding: 10px 18px;
        font-weight: 700;
        box-shadow: 0 4px 0 var(--line);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .pill-button:hover {
        transform: translateY(-2px);
      }

      .pill-button:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 var(--line);
      }

      .pill-button.red {
        width: 44px;
        height: 44px;
        padding: 0;
        background: #ff7b7b;
        color: #fff;
      }

      .pill-button.upgrade {
        background: #ffe1d0;
      }

      .top-right {
        display: grid;
        gap: 10px;
      }

      .resource {
        background: var(--panel);
        border: 4px solid var(--line);
        border-radius: 14px;
        padding: 8px 12px;
        width: 120px;
        display: flex;
        justify-content: space-between;
        box-shadow: 0 4px 0 var(--line);
        font-size: 14px;
      }

      .main-grid {
        display: grid;
        grid-template-columns: 160px 1fr 180px;
        gap: 18px;
        align-items: stretch;
      }

      .side-panel {
        background: var(--panel);
        border: 4px solid var(--line);
        border-radius: 20px;
        padding: 14px;
        box-shadow: 0 6px 0 var(--line);
        display: grid;
        gap: 16px;
        min-height: 520px;
      }

      .side-panel.right {
        position: relative;
      }

      .side-panel.right h3 {
        display: none;
      }

      .tool-list {
        display: grid;
        gap: 12px;
      }

      .tool-item {
        background: #fff1e3;
        border: 3px solid var(--line);
        border-radius: 14px;
        padding: 10px 12px;
        display: flex;
        justify-content: space-between;
        font-weight: 700;
        box-shadow: 0 3px 0 var(--line);
      }

      .container-row {
        display: grid;
        gap: 10px;
      }

      .small-button {
        border: 3px solid var(--line);
        border-radius: 14px;
        background: #fff8f1;
        padding: 10px 12px;
        display: flex;
        justify-content: space-between;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 3px 0 var(--line);
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .small-button:hover {
        transform: translateY(-2px);
      }

      .small-button:active {
        transform: translateY(2px);
        box-shadow: 0 1px 0 var(--line);
      }

      .topping-grid {
        display: grid;
        place-items: center;
        min-height: 220px;
        position: relative;
        margin-top: 70px;
      }

      .plate-illustration {
        width: 140px;
        height: 96px;
        border-radius: 50%;
        background: radial-gradient(circle at 50% 38%, #ffffff 40%, #e6e6e6 100%);
        border: 4px solid #bdbdbd;
        position: relative;
        box-shadow: inset 0 -10px 0 rgba(0, 0, 0, 0.08);
        z-index: 1;
      }

      .plate-illustration::before {
        content: "";
        position: absolute;
        inset: 16px 22px 20px;
        border-radius: 50%;
        border: 3px solid #d5d5d5;
        background: radial-gradient(circle at 50% 40%, #ffffff 35%, #f3f3f3 100%);
      }

      .plate-illustration::after {
        content: "";
        position: absolute;
        left: 10%;
        right: 10%;
        bottom: -8px;
        height: 16px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.12);
        filter: blur(2px);
      }

      .plate-drop {
        position: relative;
        display: grid;
        place-items: center;
        gap: 8px;
        padding-top: 64px;
      }

      .plate-items {
        position: absolute;
        top: 70px;
        width: 120px;
        height: 70px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-auto-rows: 24px;
        justify-items: center;
        align-content: start;
        row-gap: 4px;
        column-gap: 1px;
        z-index: 2;
      }

      .plate-items span {
        filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.15));
      }

      .plate-chip {
        position: relative;
        display: inline-grid;
        place-items: center;
      }

      .plate-remove {
        position: absolute;
        top: -6px;
        right: -6px;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        border: 2px solid var(--line);
        background: #fff1e3;
        color: var(--line);
        font-size: 10px;
        line-height: 1;
        display: grid;
        place-items: center;
        opacity: 0;
        cursor: pointer;
        transition: opacity 0.15s ease;
      }

      .plate-chip:hover .plate-remove {
        opacity: 1;
      }

      .note-stickers {
        display: none;
      }

      .note-chip {
        background: #fff1e3;
        border: 2px solid var(--line);
        border-radius: 8px;
        padding: 4px 6px;
        font-size: 10px;
        font-family: system-ui, sans-serif;
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        width: 48px;
        height: 68px;
        justify-content: center;
      }

      .note-chip .note {
        width: 16px;
        height: 24px;
      }

      .note-chip .head {
        width: 10px;
        height: 6px;
      }

      .note-chip .stem {
        height: 16px;
      }

      .plate-fruit {
        position: relative;
        width: 24px;
        height: 24px;
        border: 2px solid var(--line);
        border-radius: 50%;
        box-shadow: inset -2px -3px 0 rgba(0, 0, 0, 0.08);
        background: radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
      }

      .plate-fruit.orange {
        background:
          radial-gradient(circle at 28% 30%, rgba(255, 200, 150, 0.7) 0 1px, transparent 2px),
          radial-gradient(circle at 58% 24%, rgba(255, 200, 150, 0.7) 0 1px, transparent 2px),
          radial-gradient(circle at 70% 58%, rgba(255, 200, 150, 0.65) 0 1px, transparent 2px),
          radial-gradient(circle at 34% 70%, rgba(255, 200, 150, 0.6) 0 1px, transparent 2px),
          radial-gradient(circle at 52% 82%, rgba(255, 200, 150, 0.6) 0 1px, transparent 2px),
          radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
      }

      .plate-fruit.leaf::after {
        content: "";
        position: absolute;
        top: -4px;
        right: 0;
        width: 8px;
        height: 6px;
        background: var(--leaf, #6abf69);
        border-radius: 6px 10px 6px 10px;
        border: 2px solid var(--line);
        transform: rotate(-12deg);
      }

      .plate-fruit.orange::after {
        width: 10px;
        height: 10px;
        top: -6px;
        right: 2px;
        border-radius: 0;
        clip-path: polygon(
          50% 0%,
          61% 36%,
          98% 35%,
          68% 58%,
          79% 92%,
          50% 72%,
          21% 92%,
          32% 58%,
          2% 35%,
          39% 36%
        );
        transform: rotate(0deg);
      }

      .plate-fruit.peach {
        width: 28px;
        height: 24px;
        border-radius: 50%;
        clip-path: ellipse(55% 48% at 50% 52%);
      }

      .plate-fruit.peach::before {
        content: "";
        position: absolute;
        top: -6px;
        left: 50%;
        width: 3px;
        height: 8px;
        background: #6b4b3e;
        border-radius: 999px;
        transform: translateX(-50%) rotate(-12deg);
      }

      .plate-fruit.peach .peach-line {
        position: absolute;
        top: 4px;
        left: 50%;
        width: 10px;
        height: 18px;
        border-left: 2px solid rgba(0, 0, 0, 0.2);
        border-radius: 999px;
        transform: translateX(-50%);
      }

      .plate-fruit.pear {
        width: 22px;
        height: 30px;
        border-radius: 45% 45% 90% 90% / 60% 60% 110% 110%;
        clip-path: polygon(
          50% 2%,
          60% 10%,
          68% 24%,
          74% 42%,
          80% 66%,
          74% 92%,
          50% 100%,
          26% 92%,
          20% 66%,
          26% 42%,
          32% 24%,
          40% 10%
        );
      }

      .plate-fruit.pineapple {
        width: 22px;
        height: 30px;
        border-radius: 40% 40% 55% 55%;
        background:
          repeating-linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.2) 0 3px,
            rgba(0, 0, 0, 0.08) 3px 6px
          ),
          radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
      }

      .plate-fruit.apple {
        border-radius: 55% 55% 45% 45% / 58% 58% 45% 45%;
      }

      .plate-fruit.apple::before {
        content: "";
        position: absolute;
        top: -6px;
        left: 50%;
        width: 3px;
        height: 8px;
        background: #6b4b3e;
        border-radius: 999px;
        transform: translateX(-50%) rotate(-12deg);
      }

      .plate-fruit.blueberry {
        width: 20px;
        height: 20px;
        box-shadow: inset -1px -2px 0 rgba(0, 0, 0, 0.12);
      }

      .plate-fruit.blueberry::after {
        content: "";
        position: absolute;
        top: 4px;
        left: 50%;
        width: 6px;
        height: 3px;
        background: rgba(0, 0, 0, 0.25);
        border-radius: 0 0 999px 999px;
        transform: translateX(-50%);
      }

      .workbench {
        background: var(--panel-2);
        border: 4px solid var(--line);
        border-radius: 24px;
        padding: 18px;
        display: grid;
        gap: 18px;
        box-shadow: 0 8px 0 var(--line);
      }

      .customer-panel {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 18px;
        align-items: center;
      }

      .customer {
        display: grid;
        place-items: center;
        position: relative;
        padding: 10px;
      }

      .bear {
        width: 140px;
        height: 160px;
        position: relative;
        display: grid;
        place-items: center;
      }

      .bear .head {
        width: 120px;
        height: 110px;
        background: #d69a62;
        border: 4px solid var(--line);
        border-radius: 50% 50% 46% 46%;
        position: relative;
      }

      .bear .ear {
        position: absolute;
        width: 34px;
        height: 34px;
        background: #d69a62;
        border: 4px solid var(--line);
        border-radius: 50%;
        top: -10px;
      }

      .bear .ear.left {
        left: 8px;
      }

      .bear .ear.right {
        right: 8px;
      }

      .bear .muzzle {
        display: none;
      }

      .bear .eye {
        position: absolute;
        top: 40px;
        width: 8px;
        height: 8px;
        background: #3e2b22;
        border-radius: 50%;
      }

      .bear .eye.left {
        left: 36px;
      }

      .bear .eye.right {
        right: 36px;
      }

      .bear .nose {
        position: absolute;
        top: 52px;
        left: 50%;
        width: 10px;
        height: 8px;
        background: #3e2b22;
        border-radius: 50%;
        transform: translateX(-50%);
      }

      .bear .mouth {
        position: absolute;
        top: 66px;
        left: 50%;
        width: 20px;
        height: 10px;
        transform: translateX(-50%);
      }

      .bear .mouth::before,
      .bear .mouth::after {
        content: "";
        position: absolute;
        top: 0;
        width: 10px;
        height: 8px;
        border-bottom: 3px solid #3e2b22;
        border-radius: 0 0 12px 12px;
      }

      .bear .mouth::before {
        left: 0;
        transform: rotate(8deg);
      }

      .bear .mouth::after {
        right: 0;
        transform: rotate(-8deg);
      }

      .bear .shirt {
        display: none;
      }

      .order-card {
        background: #ffffff;
        border: 4px solid var(--line);
        border-radius: 16px;
        padding: 8px 10px;
        box-shadow: 0 4px 0 var(--line);
        position: relative;
        max-width: 140px;
      }

      .order-card::after {
        content: "";
        position: absolute;
        left: -12px;
        top: 50%;
        width: 14px;
        height: 14px;
        background: #ffffff;
        border-left: 4px solid var(--line);
        border-bottom: 4px solid var(--line);
        transform: translateY(-50%) rotate(45deg);
      }

      .order-items {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .order-item {
        background: #fff1e3;
        border: 3px solid var(--line);
        border-radius: 12px;
        padding: 6px 10px;
        display: flex;
        gap: 6px;
        font-weight: 700;
      }

      .fruit-bins {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 12px;
      }

      .fruit-slot {
        background: transparent;
        border: none;
        border-radius: 0;
        padding: 6px 2px 2px;
        display: grid;
        place-items: end center;
        gap: 6px;
        position: relative;
        cursor: default;
        box-shadow: none;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .fruit-slot:hover {
        transform: translateY(-2px);
      }

      .fruit-slot:active {
        transform: translateY(2px);
        box-shadow: 0 3px 0 var(--line);
      }

      .basket {
        width: 100%;
        height: 86px;
        border: 4px solid var(--line);
        border-radius: 12px;
        background: #e2b98f;
        position: relative;
        overflow: hidden;
        z-index: 1;
        box-shadow: 0 6px 0 rgba(0, 0, 0, 0.08);
      }

      .basket::before {
        content: none;
      }

      .basket::after {
        content: none;
      }

      .crate-plank {
        display: none;
      }

      .crate-plank.top {
        top: 30px;
      }

      .crate-plank.mid {
        top: 48px;
      }

      .crate-plank.bottom {
        top: 66px;
      }

      .crate-sticker {
        position: absolute;
        right: 6px;
        top: 30px;
        transform: none;
        background: #fff8f1;
        border: 3px solid var(--line);
        border-radius: 10px;
        padding: 3px 5px;
        text-align: center;
        font-weight: 700;
        font-size: 10px;
        min-width: 50px;
        box-shadow: 0 2px 0 var(--line);
        line-height: 1.2;
        font-family: system-ui, sans-serif;
      }

      .crate-sticker span {
        display: block;
        font-size: 12px;
      }

      .fruit-label {
        position: absolute;
        left: 2px;
        top: -14px;
        background: #fff1e3;
        border: 2px solid var(--line);
        border-radius: 8px;
        padding: 2px 6px;
        font-size: 10px;
        font-weight: 700;
        box-shadow: 0 2px 0 var(--line);
        font-family: system-ui, sans-serif;
        z-index: 3;
      }

      .note {
        position: relative;
        display: inline-block;
        width: 16px;
        height: 22px;
        margin: 0 auto 1px;
      }

      .note .head {
        position: absolute;
        bottom: 3px;
        left: 2px;
        width: 10px;
        height: 6px;
        border-radius: 50%;
        background: var(--line);
        transform: rotate(-12deg);
      }

      .note.hollow .head {
        background: transparent;
        border: 2px solid var(--line);
      }

      .note .stem {
        position: absolute;
        right: 3px;
        bottom: 8px;
        width: 2px;
        height: 14px;
        background: var(--line);
      }

      .note .flag {
        position: absolute;
        right: -1px;
        width: 6px;
        height: 5px;
        border-top: 2px solid var(--line);
        border-right: 2px solid var(--line);
        border-radius: 0 8px 0 0;
      }

      .note .flag.flag1 {
        top: 4px;
      }

      .note .flag.flag2 {
        top: 10px;
      }

      .note.whole .stem {
        display: none;
      }

      .note.whole .head {
        width: 12px;
        height: 7px;
        left: 1px;
      }

      .note .dot {
        position: absolute;
        bottom: 8px;
        left: 13px;
        width: 3px;
        height: 3px;
        background: var(--line);
        border-radius: 50%;
      }

      .fruit-cluster {
        position: absolute;
        top: -8px;
        left: 14px;
        width: 150px;
        height: 88px;
        transform: none;
        pointer-events: none;
        z-index: 2;
      }

      .fruit-piece {
        position: absolute;
        width: 34px;
        height: 34px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
        border: 3px solid var(--line);
        box-shadow: inset -4px -6px 0 rgba(0, 0, 0, 0.08);
      }

      .fruit-piece.leaf::after {
        content: "";
        position: absolute;
        top: -6px;
        right: 2px;
        width: 12px;
        height: 8px;
        background: var(--leaf, #6abf69);
        border-radius: 8px 12px 8px 12px;
        border: 2px solid var(--line);
        transform: rotate(-12deg);
      }

      .fruit-slot.orange .fruit-piece.leaf::after {
        width: 14px;
        height: 14px;
        top: -8px;
        right: 0;
        border-radius: 0;
        clip-path: polygon(
          50% 0%,
          61% 36%,
          98% 35%,
          68% 58%,
          79% 92%,
          50% 72%,
          21% 92%,
          32% 58%,
          2% 35%,
          39% 36%
        );
        transform: rotate(0deg);
      }

      .p1 { left: 8px; top: 26px; }
      .p2 { left: 38px; top: 10px; }
      .p3 { left: 74px; top: 18px; }
      .p4 { left: 20px; top: 44px; }
      .p5 { left: 56px; top: 40px; }
      .p6 { left: 94px; top: 34px; }
      .p7 { left: 46px; top: 58px; }
      .p8 { left: 12px; top: 12px; }
      .p9 { left: 62px; top: 6px; }
      .p10 { left: 88px; top: 56px; }
      .p11 { left: 30px; top: 62px; }
      .p12 { left: 78px; top: 66px; }

      .fruit-slot.orange .fruit-piece {
        width: 36px;
        height: 36px;
        background:
          radial-gradient(circle at 28% 30%, rgba(255, 200, 150, 0.7) 0 0.9px, transparent 1.9px),
          radial-gradient(circle at 58% 24%, rgba(255, 200, 150, 0.7) 0 0.9px, transparent 1.9px),
          radial-gradient(circle at 70% 58%, rgba(255, 200, 150, 0.65) 0 0.9px, transparent 1.9px),
          radial-gradient(circle at 34% 70%, rgba(255, 200, 150, 0.6) 0 0.9px, transparent 1.9px),
          radial-gradient(circle at 52% 82%, rgba(255, 200, 150, 0.6) 0 0.9px, transparent 1.9px),
          radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
      }

      .fruit-slot.apple .fruit-piece {
        width: 38px;
        height: 38px;
        border-radius: 55% 55% 45% 45% / 58% 58% 45% 45%;
        background: radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
      }

      .fruit-slot.apple .fruit-piece::before {
        content: "";
        position: absolute;
        top: -8px;
        left: 50%;
        width: 4px;
        height: 14px;
        background: #6b4b3e;
        border-radius: 999px;
        transform: translateX(-50%) rotate(-12deg);
        box-shadow: 0 0 0 1px var(--line);
      }

      .fruit-slot.apple .fruit-piece::after {
        content: "";
        position: absolute;
        top: 6px;
        left: 50%;
        width: 10px;
        height: 6px;
        border-bottom: 3px solid var(--line);
        border-radius: 0 0 999px 999px;
        transform: translateX(-50%);
        background: transparent;
      }


      .fruit-slot.apple .fruit-piece.leaf::after {
        width: 16px;
        height: 12px;
        top: -8px;
        right: -2px;
        background: #77c36f;
        border-radius: 6px 14px 6px 14px;
        border: 2px solid var(--line);
        transform: rotate(-18deg);
      }

      .fruit-slot.blueberry .fruit-piece {
        width: 24px;
        height: 24px;
        box-shadow: inset -2px -3px 0 rgba(0, 0, 0, 0.1);
      }

      .fruit-slot.blueberry .fruit-piece::after {
        content: "";
        position: absolute;
        top: 5px;
        left: 50%;
        width: 7px;
        height: 3px;
        background: rgba(0, 0, 0, 0.22);
        border-radius: 0 0 999px 999px;
        transform: translateX(-50%);
      }

      .fruit-slot.peach .fruit-piece {
        width: 40px;
        height: 34px;
        border-radius: 50%;
        clip-path: ellipse(55% 48% at 50% 52%);
      }

      .fruit-slot.peach .fruit-piece::before {
        content: "";
        position: absolute;
        top: -8px;
        left: 50%;
        width: 4px;
        height: 10px;
        background: #6b4b3e;
        border-radius: 999px;
        transform: translateX(-50%) rotate(-12deg);
      }

      .fruit-slot.peach .fruit-piece .peach-line {
        position: absolute;
        top: 6px;
        left: 50%;
        width: 12px;
        height: 22px;
        border-left: 2px solid rgba(0, 0, 0, 0.2);
        border-radius: 999px;
        transform: translateX(-50%);
      }

      .fruit-slot.pear .fruit-piece.pear-shape {
        width: 36px;
        height: 44px;
        border-radius: 45% 45% 90% 90% / 60% 60% 110% 110%;
        box-shadow: none;
        clip-path: polygon(
          50% 2%,
          60% 10%,
          68% 24%,
          74% 42%,
          80% 66%,
          74% 92%,
          50% 100%,
          26% 92%,
          20% 66%,
          26% 42%,
          32% 24%,
          40% 10%
        );
        transform: scaleX(1.2);
      }

      .fruit-slot.pear .fruit-piece.pear-shape::before {
        content: "";
        position: absolute;
        top: -18px;
        left: 50%;
        width: 4px;
        height: 20px;
        background: #6b4b3e;
        border-radius: 999px;
        transform: translateX(-50%);
      }

      .fruit-slot.pear .fruit-piece.pear-shape::after {
        content: "";
        position: absolute;
        top: -16px;
        right: -4px;
        width: 18px;
        height: 12px;
        background: #77c36f;
        border-radius: 6px 16px 6px 16px;
        border: 2px solid var(--line);
        transform: rotate(-18deg);
      }

      .fruit-slot.pineapple .fruit-piece {
        width: 32px;
        height: 44px;
        border-radius: 40% 40% 55% 55%;
        background:
          repeating-linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.2) 0 4px,
            rgba(0, 0, 0, 0.08) 4px 8px
          ),
          radial-gradient(circle at 30% 30%, var(--fruit-light), var(--fruit-dark));
        border: 3px solid var(--line);
      }

      .fruit-slot.pineapple .fruit-piece.leaf::after {
        width: 16px;
        height: 14px;
        top: -10px;
        right: 0;
        border-radius: 4px 14px 4px 14px;
        border: 2px solid var(--line);
        transform: rotate(-18deg);
      }

      .bottom-bar {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        align-items: center;
        gap: 12px;
      }

      .done-button {
        border: 4px solid var(--line);
        background: var(--accent-3);
        border-radius: 18px;
        padding: 14px 18px;
        font-size: 18px;
        font-weight: 700;
        box-shadow: 0 6px 0 var(--line);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .done-button:hover {
        transform: translateY(-2px);
      }

      .done-button:active {
        transform: translateY(2px);
        box-shadow: 0 3px 0 var(--line);
      }

      .done-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: 0 4px 0 var(--line);
      }

      .ghost-button {
        height: 44px;
      }

      @media (max-width: 1100px) {
        .main-grid {
          grid-template-columns: 140px 1fr 160px;
        }
      }

      @media (max-width: 900px) {
        .main-grid {
          grid-template-columns: 1fr;
        }

        .side-panel {
          min-height: auto;
        }

        .customer-panel {
          grid-template-columns: 1fr;
        }

        .fruit-bins {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      @media (max-width: 700px) {
        .app {
          padding: 16px;
        }

        .top-bar {
          flex-direction: column;
        }

        .bottom-bar {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="app">
      <div class="top-bar">
        <div class="top-left">
          <button class="pill-button red" type="button">‚óè</button>
          <button class="pill-button upgrade" type="button">UPGRADE</button>
        </div>
        <div class="top-right">
          <div class="resource">
            <span>Ï£ºÎ¨∏</span>
            <strong>12</strong>
          </div>
          <div class="resource">
            <span>ÏΩîÏù∏</span>
            <strong>3,784</strong>
          </div>
          <div class="resource">
            <span>Î≥¥ÏÑù</span>
            <strong>24</strong>
          </div>
        </div>
      </div>

      <div class="main-grid">
        <aside class="side-panel left">
          <div class="tool-list" id="tool-list"></div>
          <div class="container-row" id="container-row"></div>
        </aside>

        <section class="workbench">
          <div class="customer-panel">
            <div class="customer">
              <div class="bear" aria-label="Í≥∞ÎèåÏù¥ ÏÜêÎãò Ï∫êÎ¶≠ÌÑ∞">
                <div class="head">
                  <span class="ear left"></span>
                  <span class="ear right"></span>
                  <span class="eye left"></span>
                  <span class="eye right"></span>
                  <span class="nose"></span>
                  <span class="mouth"></span>
                </div>
              </div>
            </div>
            <div class="order-card">
              <div class="order-items" id="order-items"></div>
            </div>
          </div>

          <div class="fruit-bins" id="fruit-bins"></div>
        </section>

        <aside class="side-panel right">
          <div class="topping-grid" id="topping-grid"></div>
        </aside>
      </div>

      <div class="bottom-bar">
        <button class="pill-button" type="button" id="undo-button">‚Ü© ÎêòÎèåÎ¶¨Í∏∞</button>
        <button class="done-button" type="button" id="done-button">DONE</button>
        <div class="ghost-button" aria-hidden="true"></div>
      </div>
    </div>

    <script>
      const fruits = [
        { id: "orange", emoji: "üçä", name: "Í∑§", note: "‚ô©", desc: "4Î∂Ñ" },
        { id: "apple", emoji: "üçé", name: "ÏÇ¨Í≥º", note: "‚ô™", desc: "8Î∂Ñ" },
        { id: "blueberry", emoji: "ü´ê", name: "Î∏îÎ£®Î≤†Î¶¨", note: "ùÖ°", desc: "16Î∂Ñ" },
        { id: "pear", emoji: "üçê", name: "Î∞∞", note: "ùÖû", desc: "2Î∂Ñ" },
        { id: "peach", emoji: "üçë", name: "Î≥µÏà≠ÏïÑ", note: "Ï†ê", desc: "Ï†ê2Î∂Ñ" },
        { id: "pineapple", emoji: "üçç", name: "ÌååÏù∏Ïï†Ìîå", note: "ùÖù", desc: "Ïò®ÏùåÌëú" }
      ];

      const order = {
        items: [
          { id: "orange", qty: 1 },
          { id: "apple", qty: 2 }
        ]
      };

      const toppings = [
        { id: "grape", emoji: "üçá", name: "Ìè¨ÎèÑ" },
        { id: "kiwi", emoji: "ü•ù", name: "ÌÇ§ÏúÑ" },
        { id: "strawberry", emoji: "üçì", name: "Îî∏Í∏∞" },
        { id: "mango", emoji: "ü•≠", name: "ÎßùÍ≥†" }
      ];

      const tools = [
        { id: "basket", emoji: "üß∫", name: "Î∞îÍµ¨Îãà" },
        { id: "napkin", emoji: "üßª", name: "ÎÉÖÌÇ®" },
        { id: "plate", emoji: "üçΩÔ∏è", name: "Ï†ëÏãú" }
      ];

      const containers = [
        { id: "tray", emoji: "üß∫", name: "Ìä∏Î†àÏù¥" },
        { id: "bowl", emoji: "ü•£", name: "Î≥º" }
      ];

      const plate = [];

      const fruitBins = document.getElementById("fruit-bins");
      const orderItems = document.getElementById("order-items");
      const toolList = document.getElementById("tool-list");
      const containerRow = document.getElementById("container-row");
      const toppingGrid = document.getElementById("topping-grid");
      const undoButton = document.getElementById("undo-button");
      const doneButton = document.getElementById("done-button");

      function renderOrder() {
        orderItems.innerHTML = "";
        order.items.forEach((item) => {
          const fruit = fruits.find((candidate) => candidate.id === item.id);
          const wrapper = document.createElement("div");
          wrapper.className = "order-item";
          wrapper.innerHTML = `<span>${fruit ? fruit.emoji : ""}</span><span>x${item.qty}</span>`;
          orderItems.appendChild(wrapper);
        });
      }

      function renderTools() {
        toolList.innerHTML = "";
        tools.forEach((tool) => {
          const item = document.createElement("div");
          item.className = "tool-item";
          item.innerHTML = `<span>${tool.emoji}</span><span>${tool.name}</span>`;
          toolList.appendChild(item);
        });
      }

      function renderContainers() {
        containerRow.innerHTML = "";
        containers.forEach((item) => {
          const button = document.createElement("button");
          button.className = "small-button";
          button.type = "button";
          button.innerHTML = `<span>${item.emoji}</span><span>${item.name}</span>`;
          containerRow.appendChild(button);
        });
      }

      function renderToppings() {
        toppingGrid.innerHTML = "";
        const plateWrap = document.createElement("div");
        plateWrap.className = "plate-drop";
        plateWrap.id = "plate-drop";
        const noteStrip = document.createElement("div");
        noteStrip.className = "note-stickers";
        noteStrip.id = "note-stickers";
        const plateItems = document.createElement("div");
        plateItems.className = "plate-items";
        plateItems.id = "plate-items";
        const plateBase = document.createElement("div");
        plateBase.className = "plate-illustration";
        plateWrap.appendChild(plateItems);
        plateWrap.appendChild(plateBase);
        if (toppingGrid.parentElement) {
          toppingGrid.parentElement.appendChild(noteStrip);
        }
        toppingGrid.appendChild(plateWrap);

        plateWrap.addEventListener("dragover", (event) => {
          event.preventDefault();
        });
        plateWrap.addEventListener("drop", (event) => {
          event.preventDefault();
          const fruitId = event.dataTransfer.getData("text/plain");
          if (fruitId) {
            plate.push(fruitId);
            renderPlateItems();
            renderNoteStickers();
          }
        });
      }

      function createFruitChip(fruitId) {
        const fruit = fruits.find((item) => item.id === fruitId);
        if (!fruit) return null;
        const chip = document.createElement("span");
        const leafClass = fruitId === "blueberry" ? "" : "leaf";
        const pearClass = fruitId === "pear" ? "pear" : "";
        const peachClass = fruitId === "peach" ? "peach" : "";
        const pineappleClass = fruitId === "pineapple" ? "pineapple" : "";
        const appleClass = fruitId === "apple" ? "apple" : "";
        chip.className = `plate-fruit ${leafClass} ${pearClass} ${peachClass} ${pineappleClass} ${appleClass} ${fruitId}`.trim();
        if (fruitId === "peach") {
          const line = document.createElement("span");
          line.className = "peach-line";
          chip.appendChild(line);
        }
        const style = {
          orange: { light: "#ffb259", dark: "#f47c2a", leaf: "#73c06b" },
          apple: { light: "#ff6f6f", dark: "#c83232", leaf: "#6abf69" },
          blueberry: { light: "#8ea0ff", dark: "#3d4fd1", leaf: "#6abf69" },
          pear: { light: "#c4e48c", dark: "#8ebf56", leaf: "#6abf69" },
          peach: { light: "#ffb5a6", dark: "#e6766a", leaf: "#7ac06b" },
          pineapple: { light: "#ffd365", dark: "#f2a93f", leaf: "#5bbf6b" }
        };
        const palette = style[fruitId];
        if (palette) {
          chip.style.setProperty("--fruit-light", palette.light);
          chip.style.setProperty("--fruit-dark", palette.dark);
          chip.style.setProperty("--leaf", palette.leaf);
        }
        return chip;
      }

      function renderPlateItems() {
        const plateItems = document.getElementById("plate-items");
        if (!plateItems) return;
        plateItems.innerHTML = "";
        plate.forEach((id, index) => {
          const chip = createFruitChip(id);
          if (!chip) return;
          const wrapper = document.createElement("div");
          wrapper.className = "plate-chip";
          const remove = document.createElement("button");
          remove.className = "plate-remove";
          remove.type = "button";
          remove.textContent = "x";
          remove.addEventListener("click", () => {
            plate.splice(index, 1);
            renderPlateItems();
            renderNoteStickers();
          });
          wrapper.appendChild(chip);
          wrapper.appendChild(remove);
          plateItems.appendChild(wrapper);
        });
      }

      function buildNoteIcon(type) {
        const noteIcon = document.createElement("span");
        noteIcon.className = `note ${type}`;
        const head = document.createElement("span");
        head.className = "head";
        noteIcon.appendChild(head);
        if (type !== "whole") {
          const stem = document.createElement("span");
          stem.className = "stem";
          noteIcon.appendChild(stem);
        }
        if (type === "eighth" || type === "sixteenth") {
          const flag1 = document.createElement("span");
          flag1.className = "flag flag1";
          noteIcon.appendChild(flag1);
        }
        if (type === "sixteenth") {
          const flag2 = document.createElement("span");
          flag2.className = "flag flag2";
          noteIcon.appendChild(flag2);
        }
        if (type === "half" || type === "whole" || type === "dotted-half") {
          noteIcon.classList.add("hollow");
        }
        if (type === "whole") {
          noteIcon.classList.add("whole");
        }
        if (type === "dotted-half") {
          const dot = document.createElement("span");
          dot.className = "dot";
          noteIcon.appendChild(dot);
        }
        return noteIcon;
      }

      function renderNoteStickers() {
        const noteStrip = document.getElementById("note-stickers");
        if (!noteStrip) return;
        noteStrip.innerHTML = "";
        const noteLabels = {
          orange: { type: "quarter", label: "4Î∂ÑÏùåÌëú" },
          apple: { type: "eighth", label: "8Î∂ÑÏùåÌëú" },
          blueberry: { type: "sixteenth", label: "16Î∂ÑÏùåÌëú" },
          pear: { type: "half", label: "2Î∂ÑÏùåÌëú" },
          peach: { type: "dotted-half", label: "Ï†ê2Î∂ÑÏùåÌëú" },
          pineapple: { type: "whole", label: "Ïò®ÏùåÌëú" }
        };
        const unique = [...new Set(plate)];
        unique.forEach((id) => {
          const note = noteLabels[id];
          if (!note) return;
          const chip = document.createElement("div");
          chip.className = "note-chip";
          chip.appendChild(buildNoteIcon(note.type));
          const label = document.createElement("span");
          label.textContent = note.label;
          chip.appendChild(label);
          noteStrip.appendChild(chip);
        });
      }

      function renderFruitBins() {
        fruitBins.innerHTML = "";
        const fruitStyles = {
          orange: { light: "#ffb259", dark: "#f47c2a", leaf: "#73c06b" },
          apple: { light: "#ff6f6f", dark: "#c83232", leaf: "#6abf69" },
          blueberry: { light: "#8ea0ff", dark: "#3d4fd1", leaf: "#6abf69" },
          pear: { light: "#c4e48c", dark: "#8ebf56", leaf: "#6abf69" },
          peach: { light: "#ffb5a6", dark: "#e6766a", leaf: "#7ac06b" },
          pineapple: { light: "#ffd365", dark: "#f2a93f", leaf: "#5bbf6b" }
        };
        const noteLabels = {
          orange: { type: "quarter", label: "4Î∂ÑÏùåÌëú" },
          apple: { type: "eighth", label: "8Î∂ÑÏùåÌëú" },
          blueberry: { type: "sixteenth", label: "16Î∂ÑÏùåÌëú" },
          pear: { type: "half", label: "2Î∂ÑÏùåÌëú" },
          peach: { type: "dotted-half", label: "Ï†ê2Î∂ÑÏùåÌëú" },
          pineapple: { type: "whole", label: "Ïò®ÏùåÌëú" }
        };
        fruits.forEach((fruit) => {
          const style = fruitStyles[fruit.id] || {
            light: "#ffd4b8",
            dark: "#f2a07b",
            leaf: "#6abf69"
          };
          const note = noteLabels[fruit.id] || { type: "quarter", label: "" };
          const button = document.createElement("button");
          button.className = `fruit-slot ${fruit.id}`.trim();
          button.type = "button";
          button.draggable = true;
          button.style.setProperty("--fruit-light", style.light);
          button.style.setProperty("--fruit-dark", style.dark);
          button.style.setProperty("--leaf", style.leaf);
          button.addEventListener("dragstart", (event) => {
            event.dataTransfer.setData("text/plain", fruit.id);
            const dragChip = createFruitChip(fruit.id);
            if (dragChip) {
              dragChip.style.position = "absolute";
              dragChip.style.top = "-9999px";
              dragChip.style.left = "-9999px";
              document.body.appendChild(dragChip);
              event.dataTransfer.setDragImage(dragChip, 12, 12);
              requestAnimationFrame(() => dragChip.remove());
            }
          });
          const cluster = document.createElement("div");
          cluster.className = "fruit-cluster";
          for (let i = 1; i <= 7; i += 1) {
            const piece = document.createElement("span");
            const leafClass = fruit.id === "blueberry" ? "" : i % 2 === 0 ? "leaf" : "";
            const pearClass = fruit.id === "pear" ? "pear-shape" : "";
            piece.className = `fruit-piece p${i} ${leafClass} ${pearClass}`.trim();
            if (fruit.id === "peach") {
              const line = document.createElement("span");
              line.className = "peach-line";
              piece.appendChild(line);
            }
            cluster.appendChild(piece);
          }
          const basket = document.createElement("div");
          basket.className = "basket";
          const fruitLabel = document.createElement("div");
          fruitLabel.className = "fruit-label";
          fruitLabel.textContent = fruit.name;
          const plankTop = document.createElement("div");
          plankTop.className = "crate-plank top";
          const plankMid = document.createElement("div");
          plankMid.className = "crate-plank mid";
          const plankBottom = document.createElement("div");
          plankBottom.className = "crate-plank bottom";
          const sticker = document.createElement("div");
          sticker.className = "crate-sticker";
          const noteIcon = document.createElement("span");
          noteIcon.className = `note ${note.type}`;
          const head = document.createElement("span");
          head.className = "head";
          noteIcon.appendChild(head);
          if (note.type !== "whole") {
            const stem = document.createElement("span");
            stem.className = "stem";
            noteIcon.appendChild(stem);
          }
          if (note.type === "eighth" || note.type === "sixteenth") {
            const flag1 = document.createElement("span");
            flag1.className = "flag flag1";
            noteIcon.appendChild(flag1);
          }
          if (note.type === "sixteenth") {
            const flag2 = document.createElement("span");
            flag2.className = "flag flag2";
            noteIcon.appendChild(flag2);
          }
          if (note.type === "half" || note.type === "whole" || note.type === "dotted-half") {
            noteIcon.classList.add("hollow");
          }
          if (note.type === "whole") {
            noteIcon.classList.add("whole");
          }
          if (note.type === "dotted-half") {
            const dot = document.createElement("span");
            dot.className = "dot";
            noteIcon.appendChild(dot);
          }
          const noteLabel = document.createElement("div");
          noteLabel.textContent = note.label;
          sticker.appendChild(noteIcon);
          sticker.appendChild(noteLabel);
          basket.appendChild(plankTop);
          basket.appendChild(plankMid);
          basket.appendChild(plankBottom);
          basket.appendChild(sticker);
          button.appendChild(fruitLabel);
          button.appendChild(cluster);
          button.appendChild(basket);
          fruitBins.appendChild(button);
        });
      }
      undoButton.addEventListener("click", () => {
        console.log("UNDO");
      });

      doneButton.addEventListener("click", () => {
        console.log("DONE");
      });

      renderOrder();
      renderTools();
      renderContainers();
      renderToppings();
      renderFruitBins();
      renderNoteStickers();
    </script>
  </body>
</html>
